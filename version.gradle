def getAppVersionName() {
    def Properties props = new Properties()
    def propFile = file('./version.properties')   //pay attention to the path
    def versionName = "1.0.0"
    if (propFile.canRead()) {
        props.load(new FileInputStream(propFile))

        if (props != null && props.containsKey('version.name')) {

            versionName = props['version.name']

        }
    }

    return versionName
}

def getAppVersionCode() {
    def Properties props = new Properties()
    def propFile = file('./version.properties')   //pay attention to the path
    def versionCode = 100
    if (propFile.canRead()) {
        props.load(new FileInputStream(propFile))

        if (props != null && props.containsKey('version.code')) {
            versionCode = props['version.code']
        }
    }
    return versionCode
}

def getAppEnvironment() {
    def Properties props = new Properties()
    def propFile = file('./version.properties')   //pay attention to the path
    def environment = 1
    if (propFile.canRead()) {
        props.load(new FileInputStream(propFile))

        if (props != null && props.containsKey('version.environment')) {
            environment = props['version.environment']
        }
    }
    return environment
}

def getLaunchEnvironment() {
    def Properties props = new Properties()
    def propFile = file('./version.properties')   //pay attention to the path
    def environment = 1
    if (propFile.canRead()) {
        props.load(new FileInputStream(propFile))

        if (props != null && props.containsKey('launch.environment')) {
            environment = props['launch.environment']
        }
    }
    return environment
}

ext{

    /**
     * 以下为工程构建配置，且可编译通过
     * 如有编译问题，请先检查本地环境配置
     * 如无适配需求，请不要随意修改
     * */
    //base
    compileVersion = 30
    buildVersion = "30.0.0"
    minVersion = 21
    targetVersion = 30

    //common
    coreVersion = "1.3.2"
    appcompatVersion = "1.2.0"
    daggerVersion = "2.28.3"
    daggerCompilerVersion = "2.28.3"
    lifecycleVersion = "2.3.0"
    mmkvVersion = '1.0.23'
    hiltVersion = "2.28-alpha"

    //test
    junitVersion = "4.12"
    testRunnerVersion = "1.2.0"
    espressoVersion = "3.2.0"
    testJunitExt = "1.1.1"

    //lint
    lintVersion = "26.5.1"

    //ui
    constraintVersion = "2.0.4"
    recyclerviewVersion = "1.2.0-beta01"
    materialVersion = "1.3.0"



    /**
     * 以下为工程发布环境配置
     * 如果不需要改变： 环境配置的设置方式
     * 请不要更改
     * 更改请查看version.properties文件
     * */
    testEnvironment = 0
    releaseEnvironment = 1

    appVersionName = getAppVersionName()
    appVersionCode = getAppVersionCode()
    currentEnvironment = getAppEnvironment()
    launchEnvironment = getLaunchEnvironment()


}
